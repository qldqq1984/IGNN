TACS_iAUCs <- iAUC_analysis(TACS_data_tumorsize_2to5cm, "model1_TACS")
Nomogram_iAUCs <- iAUC_analysis(Nomogram_data_tumorsize_2to5cm, "model2_Nomogram")
IGNN_iAUCs <- iAUC_analysis(IGNN_data_tumorsize_2to5cm, "model3_IGNN")
IGNNE_iAUCs <- iAUC_analysis(IGNNE_data_tumorsize_2to5cm, "model4_IGNNE")
iAUC_panel_tumorsize_2to5cm <- iAUC_panel(TACS_iAUCs, Nomogram_iAUCs, IGNN_iAUCs, IGNNE_iAUCs, 0.75, 0.95)
iAUC_panel_tumorsize_2to5cm
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/Figure_2/Figure_2_ab_iAUC_panel.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/Figure_2/Figure_2_ab_iAUC_panel.R")
iAUC_panel_training
iAUC_panel_validation
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/Figure_2/Figure_2_ab_ROC_panel.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/Figure_2/Figure_2_ab_ROC_panel.R")
TACS_ROC <- ROC_analysis(TACS_data_training, "model1_TACS")
TACS_ROC
TACS_ROC <- ROC_analysis(TACS_data_training, "model1_TACS")
Nomogram_ROC <- ROC_analysis(Nomogram_data_training, "model2_Nomogram")
IGNN_ROC <- ROC_analysis(IGNN_data_training, "model3_IGNN")
IGNNE_ROC <- ROC_analysis(IGNNE_data_training, "model4_IGNNE")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/Figure_2/Figure_2_ab_ROC_panel.R")
ROC_panel_training
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/Figure_2/Figure_2_ab_ROC_panel.R")
ROC_panel_training
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/Figure_2/Figure_2_ab_HR_panel.R")
HR_panel_training
TACS_data_training <- read.xlsx( Data_file , sheet = "TACS_training_cohort")
Nomogram_data_training <- read.xlsx( Data_file , sheet = "Nomogram_training_cohort")
IGNN_data_training <- read.xlsx( Data_file , sheet = "IGNN_training_cohort")
IGNNE_data_training <- read.xlsx( Data_file , sheet = "IGNNE_training_cohort")
TACS_results <- HR_analysis(TACS_data_training)
Nomogram_results <- HR_analysis(Nomogram_data_training)
IGNN_results <- HR_analysis(IGNN_data_training)
IGNNE_results <- HR_analysis(IGNNE_data_training)
IGNN_results
IGNNE_results
TACS_data_validation <- read.xlsx( Data_file , sheet = "TACS_validation_cohort")
Nomogram_data_validation <- read.xlsx( Data_file , sheet = "Nomogram_validation_cohort")
IGNN_data_validation <- read.xlsx( Data_file , sheet = "IGNN_validation_cohort")
IGNNE_data_validation <- read.xlsx( Data_file , sheet = "IGNNE_validation_cohort")
TACS_results <- HR_analysis(TACS_data_validation)
Nomogram_results <- HR_analysis(Nomogram_data_validation)
IGNN_results <- HR_analysis(IGNN_data_validation)
IGNNE_results <- HR_analysis(IGNNE_data_validation)
IGNN_results
IGNNE_results
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/Figure_2/Figure_2_ab_ROC_panel.R")
ROC_panel_training
TACS_data_validation <- read.xlsx( Data_file , sheet = "TACS_validation_cohort")
Nomogram_data_validation <- read.xlsx( Data_file , sheet = "Nomogram_validation_cohort")
IGNN_data_validation <- read.xlsx( Data_file , sheet = "IGNN_validation_cohort")
IGNNE_data_validation <- read.xlsx( Data_file , sheet = "IGNNE_validation_cohort")
TACS_ROC <- ROC_analysis(TACS_data_validation, "model1_TACS")
Nomogram_ROC <- ROC_analysis(Nomogram_data_validation, "model2_Nomogram")
IGNN_ROC <- ROC_analysis(IGNN_data_validation, "model3_IGNN")
IGNNE_ROC <- ROC_analysis(IGNNE_data_validation, "model4_IGNNE")
ROC_panel_validation <- ROC_panel(TACS_ROC, Nomogram_ROC, IGNN_ROC, IGNNE_ROC)
ROC_panel_validation
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/Figure_2/Figure_2_ab_ROC_panel.R")
ROC_panel_tumorsize_5cm
ROC_panel_tumorsize_2to5cm
ROC_panel_tumorsize_2cm
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/external_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/external_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/external_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/external_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/TACS_Nomogram_performance/external_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/TACS_Nomogram_performance/external_validation.R")
aa=12
paste("total number is",aa)
cv_train_cohort_file = paste0(dir_root,"/experiment_results/pre_train_cohort_fold",aa,"s_IGNN.xlsx")
cv_train_cohort_file
aa=3
cv_train_cohort_file = paste0(dir_root,"/experiment_results/pre_train_cohort_fold",aa,"_IGNN.xlsx")
cv_train_cohort_file
paste0("fold",fold_id,"_train_cohort")
fold_id=1
paste0("fold",fold_id,"_train_cohort")
paste0("fold",fold_id,"_test_cohort")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/experiments/data_analysis/IGNN_IGNNE_performance/pre_validation.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/Souce_Data_analysis/Figure_2/Figure_2_ab_HR_panel.R")
HR_panel_tumorsize_2cm
require(survival)
require(survivall)
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/Souce_Data_analysis/Figure_2/Figure_2_ab_ROC_panel.R")
ROC_panel_tumorsize_2cm
install.packages("survival")
install.packages("survival")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/Souce_Data_analysis/Figure_2/Figure_2_ab_ROC_panel.R")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/Souce_Data_analysis/Figure_2/Figure_2_ab_HR_panel.R")
HR_panel_trainin
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/Souce_Data_analysis/Figure_2/Figure_2_ab_HR_panel.R")
HR_panel_training
require_library <- function(library_name){
if(require(library_name)){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library(survival)
require_library("survival")
require("survival")
require_library(library_name="survival")
install.packages(library_name)
library_name="survival"
require(library_name)
require_library("survival")
install.packages(library_name)
require_library('survival')
install.packages(library_name)
a=require("survival")
a
require_library <- function(library_name){
if(require(library_name)){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library(survival)
require_library("survival")
install.packages(library_name)
require_library <- function(library_name="survival"){
if(require(library_name)){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library
require_library()
install.packages(library_name)
require_library <- function(library_name){
if(require(paste0(library_name))){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library("survival")
install.packages(library_name)
require_library(survival)
require_library <- function(library_name){
if(require("survival")){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library()
require_library("s")
require_library <- function(library){
library_name="survival"
if(require(library_name)){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library()
install.packages(library_name)
require_library <- function(library){
library_name="survival"
if(require(paste0(library_name))){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library()
install.packages(library_name)
require_library <- function(library){
library_name="survival"
if(lapply("survival", require, character.only = TRUE)){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library()
require_library <- function(library){
library_name<-c("survival")
if(lapply(library_name, require, character.only = TRUE)){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library("ss")
library_name<-c("survival")
lapply(library_name, require, character.only = TRUE)
a=lapply(library_name, require, character.only = TRUE)
a
a[1]
a[[1]]
a[[[1]]]
a
a==TRUE
a==FALSE
require_library <- function(library){
library_name<-c("survival")
result<-lapply(library_name, require, character.only = TRUE)
if(result){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library("ss")
library_name<-c("survival")
result<-lapply(library_name, require, character.only = TRUE)
result==TRUE
result
# require_library <- function(library){
library_name<-c("survival")
result<-lapply(library_name, require, character.only = TRUE)
if(result){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
# }
View(result)
# require_library <- function(library){
library_name<-c("survival")
result<-lapply(library_name, require, character.only = TRUE)
if(result[1]){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
# }
# require_library <- function(library){
library_name<-c("survival")
result<-lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
# }
require_library <- function(library_name){
# library_name<-c("survival")
result <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library <- function(library_name){
# library_name<-c("survival")
result <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
install.packages(library_name)
if(require(library_name)){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library("survival")
require_library("survival1")
require_library <- function(library_name){
# library_name<-c("survival")
result <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
lapply(library_name, install.packages, character.only = TRUE)
# install.packages(library_name)
esult <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library("survival")
require_library("survival1")
library_name="survival"
lapply(library_name, install.packages, character.only = TRUE)
lapply(library_name, install.packages, character.only = TRUE)
library_name="survival1"
lapply(library_name, install.packages, character.only = TRUE)
lapply(library_name, install.packages, character.only = TRUE)
remove.packages("survival")
library(survival)
remove.packages("survival")
library(survival)
require_library <- function(library_name){
# library_name<-c("survival")
result <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
lapply(library_name, install.packages, character.only = TRUE)
# install.packages(library_name)
esult <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library("survival")
require_library("survival")
install.packages("survival")
install.packages("survival")
install.packages(survival)
install.packages('survival')
install.packages("survival")
library(survival)
remove.packages("survival")
library(survival)
require_library <- function(library_name){
# library_name<-c("survival")
result <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
lapply(library_name, install.packages, character.only = TRUE)
# install.packages(library_name)
esult <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library("survival")
library(survival)
require_library <- function(library_name){
# library_name<-c("survival")
result <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
lapply(library_name, install.packages, character.only = TRUE)
# install.packages(library_name)
esult <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library("survival")
ibrary_name="survival"
install.packages(ibrary_name)
install.packages(ibrary_name)
library_name="survival"
install.packages(library_name)
install.packages(library_name)
install.packages("survival")
library_name="survival"
install.packages(library_name)
install.packages("survival")
library(survival)
remove.packages("survival")
library(survival)
require_library <- function(library_name){
# library_name<-c("survival")
result <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
lapply(library_name, install.packages, character.only = TRUE)
# install.packages(library_name)
result <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library("survival")
library(survival)
require_library <- function(library_name){
# library_name<-c("survival")
result <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name," is loaded correctly"))
} else {
print(paste0("trying to install ", library_name))
lapply(library_name, install.packages)
# install.packages(library_name)
result <- lapply(library_name, require, character.only = TRUE)
if(result[[1]]){
print(paste0(library_name, " installed and loaded"))
} else {
stop(paste0("could not install ",library_name))
}
}
}
require_library("survival")
library(survival)
remove.packages("pec")
source("G:/博士论文5/NC_review1/IGNNandIGNNE_final_v1/Souce_Data_analysis/Figure_2/Figure_2_ab_HR_panel.R")
HR_panel_tumorsize_2to5cm
